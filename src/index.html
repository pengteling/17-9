<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>FileReader</title>
	</head>
	<body>
		<input type="file" id="fileInput" multiple />
		<p id="text"></p>
		<div id="box"></div>
		<script type="text/javascript">
			fileInput.onchange = function(){
				var file = this.files[0];
				var url =  window.URL.createObjectURL(file);
				var reader = new FileReader();

				reader.onload = function(e){
					//console.log(e);
					//获取文件的内容
					//text.innerHTML = e.target.result;

					// 利用DataURL预览
					// console.log(e.target.result);
					// var img = document.createElement("img");
					// img.style.width=200+"px";
					// img.src = e.target.result;
					// box.appendChild(img);



					// console.log(e.target.result);
					// var x1 = new Uint8Array(e.target.result);
					// console.log(x1);


					console.log(e.target.result);
					// 这里的result为arraybuffer对象
					var result = e.target.result; 
					var reader2 = new FileReader();
					reader2.onload = function(e){
						console.log(e.target.result);
					}
					// 将arraybuffer对象创建一个blob
					reader2.readAsText(new Blob([result],{type:"text/html"}));
					
				}
				
				//获取文本内容
				//reader.readAsText(file,'utf-8')
				
				//获取内容地址 data:URL格式
				//reader.readAsDataURL(file)
				
				//获取原始二进制数据
				//reader.readAsBinaryString(file);
				
				reader.readAsArrayBuffer(file);
			
				
			}
		</script>
		
	</body>
</html>
